/**
 * @license
 * (C) Copyright Contributors to the SearXNG project.
 * (C) Copyright Contributors to the searx project (2014 - 2021).
 * SPDX-License-Identifier: AGPL-3.0-or-later
 */
window.searxng=function(t,a){"use strict";if(t.Element){(function(e){e.matches=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.msMatchesSelector||function(e){var t=this,n=(t.parentNode||t.document).querySelectorAll(e),r=-1;while(n[++r]&&n[r]!=t);return!!n[r]}})(Element.prototype)}function s(e,t,n){try{e.call(t,n)}catch(e){console.log(e)}}var i=window.searxng||{};i.on=function(r,e,o,t){t=t||false;if(typeof r!=="string"){r.addEventListener(e,o,t)}else{a.addEventListener(e,function(e){var t=e.target||e.srcElement,n=false;while(t&&t.matches&&t!==a&&!(n=t.matches(r)))t=t.parentElement;if(n)s(o,t,e)},t)}};i.ready=function(e){if(document.readyState!="loading"){e.call(t)}else{t.addEventListener("DOMContentLoaded",e.bind(t))}};i.http=function(r,o,a=null){return new Promise(function(e,t){try{var n=new XMLHttpRequest;n.open(r,o,true);n.timeout=2e4;n.onload=function(){if(n.status==200){e(n.response,n.responseType)}else{t(Error(n.statusText))}};n.onerror=function(){t(Error("Network Error"))};n.onabort=function(){t(Error("Transaction is aborted"))};n.ontimeout=function(){t(Error("Timeout"))};if(a){n.send(a)}else{n.send()}}catch(e){t(e)}})};i.loadStyle=function(e){var t=i.settings.theme_static_path+"/"+e,n="style_"+e.replace(".","_"),r=a.getElementById(n);if(r===null){r=a.createElement("link");r.setAttribute("id",n);r.setAttribute("rel","stylesheet");r.setAttribute("type","text/css");r.setAttribute("href",t);a.body.appendChild(r)}};i.loadScript=function(e,t){var n=i.settings.theme_static_path+"/"+e,r="script_"+e.replace(".","_"),o=a.getElementById(r);if(o===null){o=a.createElement("script");o.setAttribute("id",r);o.setAttribute("src",n);o.onload=t;o.onerror=function(){o.setAttribute("error","1")};a.body.appendChild(o)}else if(!o.hasAttribute("error")){try{t.apply(o,[])}catch(e){console.log(e)}}else{console.log("callback not executed : script '"+n+"' not loaded.")}};i.insertBefore=function(e,t){t.parentNode.insertBefore(e,t)};i.insertAfter=function(e,t){t.parentNode.insertAfter(e,t.nextSibling)};i.on(".close","click",function(){this.parentNode.classList.add("invisible")});function e(){for(var e of a.getElementsByTagName("body")[0].classList.values()){if(e.endsWith("_endpoint")){return e.split("_")[0]}}return""}i.endpoint=e();return i}(window,document);searxng.ready(function(){"use strict";searxng.infinite_scroll_supported="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype;if(searxng.endpoint!=="results"){return}if(!searxng.infinite_scroll_supported){console.log("IntersectionObserver not supported");return}let a=document;var s=a.getElementById("results").classList.contains("only_template_images");function n(){var e=a.createElement("div");e.classList.add("loader");return e}function r(t,e){t.textContent="";e.forEach(e=>t.appendChild(e))}function o(o){var e=a.querySelector("#pagination form.next_page");if(!e){return}r(a.querySelector("#pagination"),[n()]);var t=new FormData(e);searxng.http("POST",a.querySelector("#search").getAttribute("action"),t).then(function(e){var t=(new DOMParser).parseFromString(e,"text/html");var n=t.querySelectorAll("#urls article");var r=t.querySelector("#pagination");a.querySelector("#pagination").remove();if(n.length>0&&!s){a.querySelector("#urls").appendChild(a.createElement("hr"))}n.forEach(e=>{a.querySelector("#urls").appendChild(e)});if(r){a.querySelector("#results").appendChild(r);o()}}).catch(function(e){console.log(e);var t=a.createElement("div");t.textContent=searxng.settings.translations.error_loading_next_page;t.classList.add("dialog-error");t.setAttribute("role","alert");r(a.querySelector("#pagination"),[t])})}if(searxng.settings.infinite_scroll&&searxng.infinite_scroll_supported){const i={rootMargin:"20rem"};const l="article.result:last-child";const c=new IntersectionObserver(e=>{const t=e[0];if(t.isIntersecting){c.unobserve(t.target);o(()=>c.observe(a.querySelector(l),i))}});c.observe(a.querySelector(l),i)}});searxng.ready(function(){function e(e){while(e!==undefined){if(e.classList.contains("detail")){return true}if(e.classList.contains("result")){return false}e=e.parentNode}return false}function n(e){while(e!==undefined){if(e.classList.contains("result")){return e}e=e.parentNode}return undefined}function r(e){return e&&e.classList.contains("result-images")}searxng.on(".result","click",function(t){if(!e(t.target)){a(this)(true,true);let e=n(t.target);if(r(e)){t.preventDefault();searxng.selectImage(e)}}});searxng.on(".result a","focus",function(t){if(!e(t.target)){let e=n(t.target);if(e&&e.getAttribute("data-vim-selected")===null){a(e)(true)}if(r(e)){searxng.selectImage(e)}}},true);var t={Escape:{key:"ESC",fun:i,des:"remove focus from the focused input",cat:"Control"},c:{key:"c",fun:w,des:"copy url of the selected result to the clipboard",cat:"Results"},h:{key:"h",fun:y,des:"toggle help window",cat:"Other"},i:{key:"i",fun:m,des:"focus on the search input",cat:"Control"},n:{key:"n",fun:c(),des:"go to next page",cat:"Results"},o:{key:"o",fun:v(false),des:"open search result",cat:"Results"},p:{key:"p",fun:u(),des:"go to previous page",cat:"Results"},r:{key:"r",fun:s,des:"reload page from the server",cat:"Control"},t:{key:"t",fun:v(true),des:"open the result in a new tab",cat:"Results"}};var o={default:Object.assign({ArrowLeft:{key:"←",fun:a("up"),des:"select previous search result",cat:"Results"},ArrowRight:{key:"→",fun:a("down"),des:"select next search result",cat:"Results"}},t),vim:Object.assign({b:{key:"b",fun:f(-window.innerHeight),des:"scroll one page up",cat:"Navigation"},f:{key:"f",fun:f(window.innerHeight),des:"scroll one page down",cat:"Navigation"},u:{key:"u",fun:f(-window.innerHeight/2),des:"scroll half a page up",cat:"Navigation"},d:{key:"d",fun:f(window.innerHeight/2),des:"scroll half a page down",cat:"Navigation"},g:{key:"g",fun:g(-document.body.scrollHeight,"top"),des:"scroll to the top of the page",cat:"Navigation"},v:{key:"v",fun:g(document.body.scrollHeight,"bottom"),des:"scroll to the bottom of the page",cat:"Navigation"},k:{key:"k",fun:a("up"),des:"select previous search result",cat:"Results"},j:{key:"j",fun:a("down"),des:"select next search result",cat:"Results"},y:{key:"y",fun:w,des:"copy url of the selected result to the clipboard",cat:"Results"}},t)};var d=o[searxng.settings.hotkeys]||o.default;searxng.on(document,"keydown",function(e){if(Object.prototype.hasOwnProperty.call(d,e.key)&&!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey){var t=e.target.tagName.toLowerCase();if(e.key==="Escape"){d[e.key].fun(e)}else{if(e.target===document.body||t==="a"||t==="button"){e.preventDefault();d[e.key].fun()}}}});function a(f){return function(e,t){var n=document.querySelector(".result[data-vim-selected]"),r=f;if(n===null){n=document.querySelector(".result");if(n===null){return}if(f==="down"||f==="up"){r=n}}var o,a=document.querySelectorAll(".result");a=Array.from(a);if(typeof r!=="string"){o=r}else{switch(r){case"visible":var s=document.documentElement.scrollTop||document.body.scrollTop;var i=s+document.documentElement.clientHeight;for(var l=0;l<a.length;l++){o=a[l];var c=o.offsetTop;var u=c+o.clientHeight;if(u<=i&&c>s){break}}break;case"down":o=a[a.indexOf(n)+1]||n;break;case"up":o=a[a.indexOf(n)-1]||n;break;case"bottom":o=a[a.length-1];break;case"top":default:o=a[0]}}if(o){n.removeAttribute("data-vim-selected");o.setAttribute("data-vim-selected","true");if(!t){var d=o.querySelector("h3 a")||o.querySelector("a");if(d!==null){d.focus()}}if(!e){p()}}}}function s(){document.location.reload(true)}function i(e){const t=e.target.tagName.toLowerCase();if(document.activeElement&&(t==="input"||t==="select"||t==="textarea")){document.activeElement.blur()}else{searxng.closeDetail()}}function l(t){return function(){var e=document.querySelector(t);if(e){e.click()}}}function c(){return l('nav#pagination .next_page button[type="submit"]')}function u(){return l('nav#pagination .previous_page button[type="submit"]')}function p(){var e=document.querySelector(".result[data-vim-selected]");if(e===null){return}var t=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.clientHeight,r=e.offsetTop,o=r+e.clientHeight,a=120;if(e.previousElementSibling===null&&o<n){window.scroll(window.scrollX,0);return}if(t>r-a){window.scroll(window.scrollX,r-a)}else{var s=t+n;if(s<o+a){window.scroll(window.scrollX,o-n+a)}}}function f(e){return function(){window.scrollBy(0,e);a("visible")()}}function g(e,t){return function(){window.scrollTo(0,e);a(t)()}}function m(){window.scrollTo(0,0);var e=document.querySelector("#q");e.focus();if(e.setSelectionRange){var t=e.value.length;e.setSelectionRange(t,t)}}function v(n){return function(){var e=document.querySelector(".result[data-vim-selected] h3 a");if(e===null){e=document.querySelector(".result[data-vim-selected] > a")}if(e!==null){var t=e.getAttribute("href");if(n){window.open(t)}else{window.location.href=t}}}}function h(e){var n={};for(var t in d){var r=d[t];n[r.cat]=n[r.cat]||[];n[r.cat].push(r)}var o=Object.keys(n).sort(function(e,t){return n[t].length-n[e].length});if(o.length===0){return}var a='<a href="#" class="close" aria-label="close" title="close">×</a>';a+="<h3>How to navigate SearXNG with hotkeys</h3>";a+="<table>";for(var s=0;s<o.length;s++){var i=n[o[s]];var l=s===o.length-1;var c=s%2===0;if(c){a+="<tr>"}a+="<td>";a+="<h4>"+i[0].cat+"</h4>";a+='<ul class="list-unstyled">';for(var u in i){a+="<li><kbd>"+i[u].key+"</kbd> "+i[u].des+"</li>"}a+="</ul>";a+="</td>";if(!c||l){a+="</tr>"}}a+="</table>";e.innerHTML=a}function y(){var e=document.querySelector("#vim-hotkeys-help");if(e===undefined||e===null){e=document.createElement("div");e.id="vim-hotkeys-help";e.className="dialog-modal";h(e);var t=document.getElementsByTagName("body")[0];t.appendChild(e)}else{e.classList.toggle("invisible");return}}function w(){var e=document.querySelector(".result[data-vim-selected] h3 a");if(e===null)return;const t=e.getAttribute("href");navigator.clipboard.writeText(t)}searxng.scrollPageToSelected=p;searxng.selectNext=a("down");searxng.selectPrevious=a("up")});(function(e,t,n){"use strict";n.ready(function(){n.on(".searxng_init_map","click",function(e){this.classList.remove("searxng_init_map");var d=this.dataset.leafletTarget;var f=parseFloat(this.dataset.mapLon);var p=parseFloat(this.dataset.mapLat);var g=parseFloat(this.dataset.mapZoom);var m=JSON.parse(this.dataset.mapBoundingbox);var v=JSON.parse(this.dataset.mapGeojson);n.loadStyle("css/leaflet.css");n.loadScript("js/leaflet.js",function(){var e=null;if(m){var t=L.latLng(m[0],m[2]);var n=L.latLng(m[1],m[3]);e=L.latLngBounds(t,n)}var r=L.map(d);var o="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png";var a='Map data © <a href="https://openstreetmap.org">OpenStreetMap</a> contributors';var s=new L.TileLayer(o,{minZoom:1,maxZoom:19,attribution:a});var i="https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}.png";var l='Wikimedia maps | Maps data © <a href="https://openstreetmap.org">OpenStreetMap contributors</a>';var c=new L.TileLayer(i,{minZoom:1,maxZoom:19,attribution:l});if(e){setTimeout(function(){r.fitBounds(e,{maxZoom:17})},0)}else if(f&&p){if(g){r.setView(new L.latLng(p,f),g)}else{r.setView(new L.latLng(p,f),8)}}r.addLayer(s);var u={"OSM Mapnik":s,"OSM Wikimedia":c};L.control.layers(u).addTo(r);if(v){L.geoJson(v).addTo(r)}});e.preventDefault()})})})(window,document,window.searxng);(function(e,l,c){"use strict";if(c.endpoint!=="preferences"){return}c.ready(function(){let o=null;function e(){if(o==null){c.http("GET","engine_descriptions.json").then(function(e){o=JSON.parse(e);for(const[t,n]of Object.entries(o)){let e=l.querySelectorAll('[data-engine-name="'+t+'"] .engine-description');for(const r of e){let e=" (<i>"+c.settings.translations.Source+":&nbsp;"+n[1]+"</i>)";r.innerHTML=n[0]+e}}})}}for(const i of l.querySelectorAll("[data-engine-name]")){c.on(i,"mouseenter",e)}const t=l.querySelectorAll(".enable-all-engines");const n=l.querySelectorAll(".disable-all-engines");const r=l.querySelectorAll("tbody input[type=checkbox][class~=checkbox-onoff]");const a=t=>{for(const e of r){if(e.offsetParent!==null)e.checked=!t}};for(const i of t){c.on(i,"click",()=>a(true))}for(const i of n){c.on(i,"click",()=>a(false))}const s=l.querySelector("#copy-hash");c.on(s,"click",e=>{e.preventDefault();navigator.clipboard.writeText(s.dataset.hash);s.innerText=s.dataset.copiedText})})})(window,document,window.searxng);(function(e,i,l){"use strict";if(l.endpoint!=="results"){return}l.ready(function(){i.querySelectorAll("#urls img").forEach(e=>e.addEventListener("error",()=>{e.src=window.searxng.settings.theme_static_path+"/img/img_load_error.svg"},{once:true}));if(i.querySelector("#search_url button#copy_url")){i.querySelector("#search_url button#copy_url").style.display="block"}l.on(".btn-collapse","click",function(){var e=this.getAttribute("data-btn-text-collapsed");var t=this.getAttribute("data-btn-text-not-collapsed");var n=this.getAttribute("data-target");var r=i.querySelector(n);var o=this.innerHTML;if(this.classList.contains("collapsed")){o=o.replace(e,t)}else{o=o.replace(t,e)}this.innerHTML=o;this.classList.toggle("collapsed");r.classList.toggle("invisible")});l.on(".media-loader","click",function(){var e=this.getAttribute("data-target");var t=i.querySelector(e+" > iframe");var n=t.getAttribute("src");if(n===null||n===undefined||n===false){t.setAttribute("src",t.getAttribute("data-src"))}});l.on("#copy_url","click",function(){var e=this.parentElement.querySelector("pre");navigator.clipboard.writeText(e.innerText);this.innerText=this.dataset.copiedText});let n;const a=i.createElement("div");a.classList.add("loader");const r=new Image;const s=(e,t)=>{if(n)clearTimeout(n);n=setTimeout(()=>{r.src=e},1e3);r.onload=()=>{t();a.remove()};r.onerror=()=>{a.remove()}};l.selectImage=e=>{i.getElementById("results").classList.add("image-detail-open");window.location.hash="#image-viewer";l.scrollPageToSelected();if(!e)return;const t=e.querySelector(".result-images-source img");if(!t)return;const n=t.getAttribute("data-src");if(!n)return;const r=e.querySelector(".image_thumbnail");t.src=r.src;const o=e.querySelector(".detail");o.appendChild(a);s(n,()=>{t.src=n;t.removeAttribute("data-src")})};l.closeDetail=function(){i.getElementById("results").classList.remove("image-detail-open");if(window.location.hash=="#image-viewer")window.history.back();l.scrollPageToSelected()};l.on(".result-detail-close","click",e=>{e.preventDefault();l.closeDetail()});l.on(".result-detail-previous","click",e=>{e.preventDefault();l.selectPrevious(false)});l.on(".result-detail-next","click",e=>{e.preventDefault();l.selectNext(false)});window.addEventListener("hashchange",()=>{if(window.location.hash!="#image-viewer")l.closeDetail()});i.querySelectorAll(".swipe-horizontal").forEach(e=>{e.addEventListener("swiped-left",function(){l.selectNext(false)});e.addEventListener("swiped-right",function(){l.selectPrevious(false)})});e.addEventListener("scroll",function(){var e=i.getElementById("backToTop"),t=document.documentElement.scrollTop||document.body.scrollTop,n=i.getElementById("results");if(e!==null){if(t>=100){n.classList.add("scrolling")}else{n.classList.remove("scrolling")}}},true)})})(window,document,window.searxng);(function(e,i,l){"use strict";var n="q",c;function o(){if(c.value.length>0){var e=document.getElementById("search");setTimeout(e.submit.bind(e),0)}}function u(t){var e=document.getElementById("clear_search");var n=function(){if(t.value.length===0){e.classList.add("empty")}else{e.classList.remove("empty")}};n();e.addEventListener("click",function(e){t.value="";t.focus();n();e.preventDefault()});t.addEventListener("input",n,false)}const d=async e=>{let t;if(l.settings.method==="GET"){const n=new URLSearchParams;n.append("q",e);t=fetch("./autocompleter?"+n.toString())}else{const r=new FormData;r.append("q",e);t=fetch("./autocompleter",{method:"POST",body:r})}t.then(async function(e){const n=await e.json();if(!n)return;const r=i.querySelector(".autocomplete");const o=i.querySelector(".autocomplete ul");r.classList.add("open");o.innerHTML="";if(!n[1]||n[1].length==0){const t=document.createElement("li");t.classList.add("no-item-found");t.innerHTML=l.settings.translations.no_item_found;o.appendChild(t);return}for(let t of n[1]){const a=document.createElement("li");a.innerText=t;l.on(a,"click",()=>{c.value=t;const e=i.querySelector("#search");e.submit();r.classList.remove("open")});o.appendChild(a)}})};l.ready(function(){c=i.getElementById(n);const a=i.querySelector(".autocomplete");const s=i.querySelector(".autocomplete ul");if(c!==null){u(c);if(l.settings.autocomplete){l.on(c,"input",()=>{const e=c.value;if(e.length<l.settings.autocomplete_min)return;setTimeout(()=>{if(e==c.value)d(e)},300)});l.on(c,"keyup",e=>{let t=-1;const n=s.children;for(let e=0;e<n.length;e++){if(n[e].classList.contains("active")){t=e;break}}let r=-1;if(e.key==="ArrowUp"){if(t>=0)n[t].classList.remove("active");r=(t-1+n.length)%n.length}else if(e.key==="ArrowDown"){if(t>=0)n[t].classList.remove("active");r=(t+1)%n.length}else if(e.key==="Tab"||e.key==="Enter"){a.classList.remove("open")}if(r!=-1){const o=n[r];o.classList.add("active");if(!o.classList.contains("no-item-found"))c.value=o.innerText}})}}if(c!==null&&l.settings.search_on_category_select&&i.querySelector(".search_filters")!=null){l.on(i.getElementById("safesearch"),"change",o);l.on(i.getElementById("time_range"),"change",o);l.on(i.getElementById("language"),"change",o)}const r=i.querySelectorAll("button.category_button");for(let n of r){l.on(n,"click",e=>{if(e.shiftKey){e.preventDefault();n.classList.toggle("selected");return}const t=i.querySelectorAll("button.category_button.selected");for(let e of t){e.classList.remove("selected")}n.classList.add("selected")})}const t=i.querySelector("#search");if(t!=null){l.on(t,"submit",e=>{e.preventDefault();const n=i.querySelector("#selected-categories");if(n){let t=[];for(let e of r){if(e.classList.contains("selected")){t.push(e.name.replace("category_",""))}}n.value=t.join(",")}t.submit()})}})})(window,document,window.searxng);
/*!
 * swiped-events.js - v@version@
 * Pure JavaScript swipe events
 * https://github.com/john-doherty/swiped-events
 * @inspiration https://stackoverflow.com/questions/16348031/disable-scrolling-when-touch-moving-certain-element
 * @author John Doherty <www.johndoherty.info>
 * @license MIT
 */
(function(e,l){"use strict";if(typeof e.CustomEvent!=="function"){e.CustomEvent=function(e,t){t=t||{bubbles:false,cancelable:false,detail:undefined};var n=l.createEvent("CustomEvent");n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail);return n};e.CustomEvent.prototype=e.Event.prototype}l.addEventListener("touchstart",n,false);l.addEventListener("touchmove",r,false);l.addEventListener("touchend",t,false);var c=null;var u=null;var d=null;var f=null;var p=null;var g=null;var m=0;function t(e){if(g!==e.target)return;var t=parseInt(v(g,"data-swipe-threshold","20"),10);var n=v(g,"data-swipe-unit","px");var r=parseInt(v(g,"data-swipe-timeout","500"),10);var o=Date.now()-p;var a="";var s=e.changedTouches||e.touches||[];if(n==="vh"){t=Math.round(t/100*l.documentElement.clientHeight)}if(n==="vw"){t=Math.round(t/100*l.documentElement.clientWidth)}if(Math.abs(d)>Math.abs(f)){if(Math.abs(d)>t&&o<r){if(d>0){a="swiped-left"}else{a="swiped-right"}}}else if(Math.abs(f)>t&&o<r){if(f>0){a="swiped-up"}else{a="swiped-down"}}if(a!==""){var i={dir:a.replace(/swiped-/,""),touchType:(s[0]||{}).touchType||"direct",fingers:m,xStart:parseInt(c,10),xEnd:parseInt((s[0]||{}).clientX||-1,10),yStart:parseInt(u,10),yEnd:parseInt((s[0]||{}).clientY||-1,10)};g.dispatchEvent(new CustomEvent("swiped",{bubbles:true,cancelable:true,detail:i}));g.dispatchEvent(new CustomEvent(a,{bubbles:true,cancelable:true,detail:i}))}c=null;u=null;p=null}function n(e){if(e.target.getAttribute("data-swipe-ignore")==="true")return;g=e.target;p=Date.now();c=e.touches[0].clientX;u=e.touches[0].clientY;d=0;f=0;m=e.touches.length}function r(e){if(!c||!u)return;var t=e.touches[0].clientX;var n=e.touches[0].clientY;d=c-t;f=u-n}function v(e,t,n){while(e&&e!==l.documentElement){var r=e.getAttribute(t);if(r){return r}e=e.parentNode}return n}})(window,document);
//# sourceMappingURL=searxng.min.js.map